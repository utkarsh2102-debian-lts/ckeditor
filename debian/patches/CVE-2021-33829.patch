From 3e426ce34f7fc7bf784624358831ef9e189bb6ed Mon Sep 17 00:00:00 2001
From: Tomasz Jakut <vepomoc@gmail.com>
Date: Thu, 29 Apr 2021 16:41:26 +0200
Subject: [PATCH] Treat --!> as a valid comment end tag.

---
 core/htmlparser.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

--- a/core/htmlparser.js
+++ b/core/htmlparser.js
@@ -17,7 +17,7 @@
  */
 CKEDITOR.htmlParser = function() {
 	this._ = {
-		htmlPartsRegex: /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g
+		htmlPartsRegex: /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--!?>)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g
 	};
 };
 
